<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>AWS Sandbox Dashboard</title>
      <link rel="icon" type="image/png" href="https://static.vecteezy.com/system/resources/thumbnails/045/720/728/small_2x/dark-cat-head-free-png.png">

    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css">
    
    <style>
        :root {
            --bg-dark: #0f0b29;
            --panel-bg: #1c183d;
            --border-color: #3d3763;
            --text-main: #ffffff;
            --text-dim: #b5b3c5;
            --accent-purple: #5c4ee5;
            --accent-pink: #d81b60;
            --btn-hover: #4a3dbd;
        }

        body {
            background-color: var(--bg-dark);
            color: var(--text-main);
            font-family: 'Inter', -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, sans-serif;
            margin: 0;
            padding: 40px 20px;
            display: flex;
            justify-content: center;
        }

        .sandbox-container {
            width: 100%;
            max-width: 1100px;
        }

        /* Header Section */
        .header {
            display: flex;
            justify-content: space-between;
            align-items: flex-start;
            margin-bottom: 25px;
        }

        .logo-section {
            display: flex;
            align-items: center;
            gap: 20px;
        }

        .aws-logo-box {
            background: #f7941e;
            padding: 10px;
            border-radius: 15px;
            display: flex;
            align-items: center;
            justify-content: center;
        }

        .aws-logo-box i { font-size: 40px; color: white; }

        h1 { margin: 0; font-size: 24px; font-weight: 600; }

        .incognito-hint { 
            color: var(--text-dim); 
            font-size: 14px; 
            margin-top: 5px; 
        }

        .close-btn {
            background: #3d3763;
            color: white;
            border: none;
            padding: 10px 24px;
            border-radius: 6px;
            cursor: pointer;
            font-weight: 500;
        }

        /* Main Panel Wrapper */
        .main-panel {
            background: var(--panel-bg);
            border-radius: 12px;
            padding: 30px;
            border: 1px solid var(--border-color);
            box-shadow: 0 10px 30px rgba(0,0,0,0.3);
        }

        /* Action Top Bar */
        .action-bar {
            display: flex;
            justify-content: space-between;
            align-items: center;
            background: rgba(0,0,0,0.25);
            padding: 15px 20px;
            border-radius: 8px;
            border: 1px solid var(--border-color);
            margin-bottom: 25px;
        }

        .delete-btn {
            background: transparent;
            border: 1px solid var(--accent-pink);
            color: white;
            padding: 10px 18px;
            border-radius: 6px;
            cursor: pointer;
            margin-right: 12px;
            transition: 0.3s;
        }

        .delete-btn:hover { background: rgba(216, 27, 96, 0.1); }

        .open-btn {
            background: var(--accent-purple);
            border: none;
            color: white;
            padding: 11px 22px;
            border-radius: 6px;
            cursor: pointer;
            font-weight: 600;
        }

        .open-btn:disabled {
            opacity: 0.6;
            cursor: not-allowed;
        }

        .url-section label { 
            display: block; 
            font-size: 12px; 
            color: var(--text-dim); 
            margin-bottom: 4px; 
        }

        .copy-box {
            display: flex;
            align-items: center;
            gap: 12px;
            font-family: monospace;
            color: var(--text-dim);
        }

        /* Auto Shutdown Row */
        .status-bar {
            display: flex;
            align-items: center;
            gap: 10px;
            margin-bottom: 30px;
            font-size: 14px;
        }
        .status-bar i { color: var(--text-dim); }

        /* Grid for Inputs and Sidebar */
        .content-layout {
            display: grid;
            grid-template-columns: 1fr 320px;
            gap: 40px;
        }

        .inputs-grid {
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 25px;
        }

        .input-group label {
            display: flex;
            align-items: center;
            gap: 5px;
            font-size: 14px;
            font-weight: 500;
            margin-bottom: 10px;
        }

        .field-container {
            background: transparent;
            border: 1px solid var(--border-color);
            border-radius: 6px;
            display: flex;
            align-items: center;
            padding: 12px 15px;
        }

        .field-container input {
            background: transparent;
            border: none;
            color: white;
            width: 100%;
            outline: none;
            font-size: 15px;
        }

        .field-container i {
            color: var(--text-dim);
            cursor: pointer;
            transition: 0.2s;
        }
        .field-container i:hover { color: white; }

        /* Sidebar Info Box */
        .info-card {
            background: rgba(255,255,255,0.03);
            border-radius: 8px;
            padding: 25px;
            height: fit-content;
        }

        .info-card h3 { 
            margin-top: 0; 
            font-size: 16px; 
            line-height: 1.4; 
            margin-bottom: 15px;
        }

        .info-card p { 
            font-size: 13.5px; 
            color: var(--text-dim); 
            line-height: 1.6; 
            margin-bottom: 20px;
        }

        .info-card a { 
            color: var(--text-dim); 
            font-size: 13px; 
            text-decoration: underline; 
        }

        /* Floating Help Button */
        .help-fab {
            position: fixed;
            bottom: 30px;
            right: 30px;
            background: var(--accent-pink);
            width: 50px;
            height: 50px;
            border-radius: 50%;
            display: flex;
            justify-content: center;
            align-items: center;
            box-shadow: 0 4px 15px rgba(216, 27, 96, 0.4);
            cursor: pointer;
        }
        
        /* Access Restriction Modal Styles */
        #access-restrict-modal {
            display:none;
            position:fixed;
            top:0;left:0;right:0;bottom:0;
            background:rgba(20,10,50,0.92);
            z-index:10001;
            justify-content:center;
            align-items:center;
        }
        #access-restrict-modal .modal-content {
            background: #241f4c;
            color: white;
            border-radius: 14px;
            max-width: 400px;
            width: 90%;
            padding: 32px 20px 24px 20px;
            box-shadow:0 5px 40px 0 rgba(0,0,0,0.4);
            position:relative;
            text-align: center;
            font-size: 20px;
        }
        #access-restrict-modal i {
            color: #ffde59;
            font-size: 36px;
            margin-bottom: 18px;
        }
    </style>
</head>
<body>

    <div class="sandbox-container">
        <header class="header">
            <div class="logo-section">
                <div class="aws-logo-box">
                    <i class="fab fa-aws"></i>
                </div>
                <div>
                    <h1>AWS -1  Sandbox</h1>
                    
                </div>
            </div>
            <button class="close-btn" id="btn-close">Close</button>
        </header>

        <div class="main-panel">
            <div class="action-bar">
                <div class="btn-group">
                    <button class="delete-btn" id="btn-delete"><i class="fas fa-trash-alt"></i> Delete Sandbox</button>
                    <button class="open-btn" id="btn-open">Open Sandbox</button>
                </div>
                <div class="url-section">
                    <label>Sandbox URL</label>
                    <div class="copy-box">
                        <span id="url-val" style="user-select: all; display:none;">https://730335379517.signin.aws.amazon.com/console?region=us-east-1</span>
                    </div>
                </div>
            </div>
            <script>
                // Attempt to open the URL in a specific browser or application using a custom protocol handler if available.
                // Otherwise fallback to opening in the default browser.
                document.getElementById('btn-open').onclick = function(e) {
                    e.preventDefault();
                    const url = document.getElementById('url-val').textContent;
                    
                    // Custom protocol handler logic (example: for Microsoft Edge)
                    // For demonstration, using 'microsoft-edge:' as a prefix to open in Edge
                    // You may adjust or extend this for other browsers/applications if needed
                    
                    if (/^https?:\/\//.test(url)) {
                        // Try to open in Edge browser (works only if protocol handler is registered in OS)
                        // Replace with your desired protocol handler if needed
                        var edgeUrl = 'microsoft-edge:' + url;
                        var opened = false;

                        // Try to open Edge if on Windows (will fallback to default if fails)
                        try {
                            window.location.href = edgeUrl;
                            opened = true;
                        } catch (err) {
                            opened = false;
                        }

                        // If not opened, fallback to default way (current tab)
                        setTimeout(function() {
                            if (!opened) {
                                window.location.href = url;
                            }
                        }, 500);
                    }
                }
            </script>

            <div class="status-bar" id="status-bar">
                <i class="far fa-clock"></i>
                <span>
                    <strong>Usage Window</strong>: <b>09:00 AM</b> to <b>01:00 PM</b>. Access is only allowed during this time period.
                </span>
            </div>
            <div style="background: #fff3cd; color: #856404; border: 1px solid #ffeeba; border-radius: 6px; padding: 9px 15px; margin: 12px 0; font-size: 15px; display: flex; align-items: center; gap: 9px;">
                <i class="fas fa-exclamation-triangle" style="color:#e0a800"></i>
                <span>
                    <strong>Warning:</strong> Your usage is being monitored. If any suspicious activities are detected, your access will be removed.
                </span>
            </div><br>
            <br>


            

            <div class="content-layout">
                <div class="inputs-grid">
                    <div class="input-group">
                        <label for="user">Username <i class="far fa-question-circle" title="Your AWS IAM username"></i></label>
                        <div class="field-container">
                            <input type="text" value="cloud_user" id="user" readonly>
                            <i class="far fa-copy" data-copy-target="user" title="Copy Username"></i>
                        </div>
                    </div>
                    <div class="input-group">
                        <label for="pass">Password <i class="far fa-question-circle" title="Your AWS IAM password"></i></label>
                        <div class="field-container">
                            <input type="password"
                                
                                
                                
                                
                                value="U!Z^fpS{fI75D)i6cSd6"
                                
                                
                                
                                
                                id="pass" readonly>
                            <i class="far fa-eye" data-toggle-pass="pass" title="Show/Hide Password"></i><i class="far fa-copy" data-copy-target="pass" style="margin-left:6px;" title="Copy Password"></i>
                        </div>
                    </div>
                </div>
                <div style="background: rgba(255,243,205,0.45); border: 1px solid #ffeeba; border-radius: 8px; padding: 14px 19px 12px 19px; margin: 15px 0 18px 0; color: #000; font-size: 15.5px; box-shadow: 0 2px 8px 0 rgba(179,0,89,0.05); display: flex; align-items: flex-start; gap: 10px;">
                    <i class="fas fa-exclamation-triangle" style="color: #e0a800; font-size: 21px; margin-top: 2px;"></i>
                    <div>
                        <span style="font-weight: 600;">Warning:</span>
                        You are only allowed to create up to <b>9 instances</b>. 
                        Each instance name <b>must include your name</b> as part of its name.
                    </div>
                </div>

                <!-- Region access restriction now kept below the username and password area -->
                <ul style="margin-bottom: 18px; padding-left: 18px;">
                  <li style="margin-top:9px;">
                    <b>Region Usage Policy:</b> Resources may only be created or used in the enabled regions listed below. Attempts outside these regions will be blocked. You are limited to a maximum of <strong>9 instances</strong>.
                  </li>
                  <li style="margin-top:9px;">
                    <b>Billing and Resource Limits:</b> Usage of high-cost resources is closely monitored and may be restricted or terminated at any time without notice. Please monitor your usage thoughtfully.
                  </li>
                  <li style="margin-top:9px;">
                    <b>Session Monitoring:</b> All actions are monitored and logged to ensure compliance with sandbox policies.
                  </li>
                </ul>
                <div style="background: rgba(227,247,252,0.38); border: 1px solid #0e2a42; border-radius: 8px; padding: 18px 20px 13px 20px; margin: 18px 0 18px 0; color: #111; font-size: 16px; box-shadow: 0 2px 8px 0 rgba(0,27,55,0.02);">
                  <div style="font-weight: 600; color: #11325a; font-size: 17px; margin-bottom: 8px;">
                      Region Access Restriction
                  </div>
                  <div>
                      You are only allowed to access the following AWS regions from this sandbox:
                      <ul style="margin:9px 0 0 19px; padding-left:0; list-style: disc;">
                          <li><strong>N. Virginia</strong> &rarr; <code>us-east-1</code></li>
                          <li><strong>Oregon</strong> &rarr; <code>us-west-2</code></li>
                      </ul>
                  </div>
                </div>

                
                <aside class="info-card">
                    <h3>Extend Your Session</h3>
                    <p>Your sandbox will automatically expire 4 hours after your start time. If you need to extend your session, you will receive a notification when you have 1 hour remaining that will allow you to extend your sandbox session for an additional 4 hours.</p>
                    <a href="https://docs.aws.amazon.com/console/open-console-using-incognito" target="_blank" rel="noopener">Learn more about why this matters in our Knowledge base article.</a>
                </aside>
            </div>
        </div>
    </div>

    <div class="help-fab" id="help-fab" title="Open Help">
        <i class="fas fa-question" style="color: white; font-size: 20px;"></i>
    </div>

    <!-- Access Restriction Modal -->
    <div id="access-restrict-modal">
        <div class="modal-content">
            <i class="fas fa-lock"></i><br>
            <b>Access Restricted</b>
            <div style="margin-top:14px;font-size:16px;">
                Sandbox access is allowed only between <b>09:00 AM</b> and <b>01:00 PM</b>.<br>
                Please return during access hours.
            </div>
        </div>
    </div>

    <!-- Simple Help Modal -->
    <div id="help-modal" style="
        display:none;
        position:fixed;
        top:0;left:0;right:0;bottom:0;
        background:rgba(20,10,50,0.92);
        z-index:10000;
        justify-content:center;
        align-items:center;
    ">
        <div style="
            background: #241f4c;
            color: white;
            border-radius: 14px;
            max-width: 350px;
            width: 90%;
            padding: 32px 20px 24px 20px;
            box-shadow:0 5px 40px 0 rgba(0,0,0,0.4);
            position:relative;
        ">
            <button onclick="document.getElementById('help-modal').style.display='none';" 
                style="position:absolute; right:18px; top:8px; background:transparent; border:none; color:#aaa;font-size:18px;cursor:pointer;">
                <i class="fas fa-times"></i>
            </button>
            <h2 style="margin-top:0;font-size:22px;">Help & FAQs</h2>
            <ul style="padding-left:18px;">
                <li>Use <strong>Incognito mode</strong> for AWS Sandbox to avoid cross-account issues.</li>
                <li>Click <i class="far fa-copy"></i> icons to copy credentials.</li>
                <li>You can <i class="far fa-eye"></i> to show/hide passwords.</li>
                <li>Use "Open Sandbox" to launch the AWS Console in a new tab.</li>
            </ul>
        </div>
    </div>

    <script>
        // --- Time Access Restriction Logic ---
        (function() {
            // Allowed window: 9:00AM (9*60) to 1:00PM (13*60)
            var now = new Date();
            var mins = now.getHours() * 60 + now.getMinutes();
            var start = 9 * 60; // 9:00 AM
            var end = 13 * 60; // 1:00 PM

            // If outside window, show modal and disable interactions
            if (mins < start || mins > end) {
                // Hide main sandbox UI and show restriction modal
                document.addEventListener('DOMContentLoaded',function() {
                    document.querySelector('.sandbox-container').style.filter="blur(2.5px)";
                    document.querySelector('.sandbox-container').style.pointerEvents="none";
                    document.getElementById("access-restrict-modal").style.display = "flex";
                });
            }
        })();

        // Copy to clipboard helper
        function copyToClipboard(text) {
            if (navigator.clipboard) {
                navigator.clipboard.writeText(text).then(() => {
                    showStatus('Copied to clipboard!', 1400);
                }, () => {
                    fallbackCopy(text);
                });
            } else {
                fallbackCopy(text);
            }
        }
        function fallbackCopy(text) {
            try {
                const textarea = document.createElement('textarea');
                textarea.value = text;
                document.body.appendChild(textarea);
                textarea.select();
                document.body.removeChild(textarea);
                showStatus('Copied!', 1200);
            } catch(e){
                showStatus('Copy failed', 1500, true);
            }
        }
        function showStatus(msg, ms = 1200, error=false) {
            let stat = document.createElement('div');
            stat.style.position = 'fixed';
            stat.style.bottom = '70px';
            stat.style.right = '30px';
            stat.style.background = error ? '#d81b60' : "#302a63";
            stat.style.color = 'white';
            stat.style.padding = '9px 18px';
            stat.style.borderRadius = '7px';
            stat.style.fontWeight = '500';
            stat.style.zIndex = 11000;
            stat.style.boxShadow="0 4px 15px rgba(60,0,70,.11)";
            stat.textContent = msg;
            document.body.appendChild(stat);
            setTimeout(()=>{ stat.remove(); }, ms);
        }
        // Copy handlers
        document.addEventListener('click', function(e) {
            // Copy icons
            if (e.target.matches('[data-copy-target]')) {
                var input = document.getElementById(e.target.getAttribute('data-copy-target'));
                if (input) {
                    copyToClipboard(input.value || input.innerText);
                }
            }
            // Copy URL
            if (e.target.matches('#copy-url')) {
                let urlSpan = document.getElementById('url-val');
                copyToClipboard(urlSpan.innerText || urlSpan.textContent);
            }
        });

        // Password toggle (show/hide)
        document.addEventListener('click', function(e) {
            if (e.target.matches('[data-toggle-pass]')) {
                let inputId = e.target.getAttribute('data-toggle-pass');
                let input = document.getElementById(inputId);
                if (input.type === "password") {
                    input.type = "text";
                    e.target.classList.remove('fa-eye');
                    e.target.classList.add('fa-eye-slash');
                } else {
                    input.type = "password";
                    e.target.classList.remove('fa-eye-slash');
                    e.target.classList.add('fa-eye');
                }
            }
        });
        // Ensure correct icon shown for eye/eye-slash on page load
        document.querySelectorAll('[data-toggle-pass]').forEach(function(ic) {
            ic.classList.remove('fa-copy'); // make sure it isn't fa-copy
            ic.classList.add('fa-eye');
        });

        // Open Sandbox button
        document.getElementById('btn-open').addEventListener('click', function() {
            var url = document.getElementById('url-val').innerText.trim();
            if (url.length > 10) {
                window.open(url, "_blank", "noopener,noreferrer");
            } else {
                showStatus('No Sandbox URL!', 1500, true);
            }
        });

        // Delete Sandbox button
        document.getElementById('btn-delete').addEventListener('click', function() {
            if (confirm('Are you sure you want to delete this sandbox? This action cannot be undone.')) {
                // For demonstration, just disable open/delete and gray credentials out
                document.getElementById('btn-open').disabled = true;
                document.getElementById('btn-delete').disabled = true;
                document.getElementById('status-bar').innerHTML = 
                  '<i class="fas fa-exclamation-triangle" style="color:#d81b60"></i> <span><strong>This sandbox has been deleted contact to the admin.</strong></span>';
                document.querySelectorAll('.inputs-grid input').forEach(function(inp){ inp.value=""; inp.disabled=true; inp.style.opacity=0.45; });
                document.getElementById('url-val').innerText = "[deleted]";
                showStatus('Sandbox deleted', 1600);
            }
        });

        // Close button closes the current tab/window if possible
        document.getElementById('btn-close').addEventListener('click',function() {
            // Prefer closing, else fall back to hiding the container
            if (window.close && window.top == window.self) {
                window.close();
            } else {
                document.querySelector('.sandbox-container').style.display='none';
                showStatus('You can close this browser tab.', 2400);
            }
        });

        // Help FAB opens help modal
        document.getElementById('help-fab').addEventListener('click',function(){
            document.getElementById('help-modal').style.display = 'flex';
        });

        // Make help modal close on background click (not the help content)
        document.getElementById('help-modal').addEventListener('click', function(e) {
            if (e.target === this) this.style.display = 'none';
        });

        // Optional: select the value in <span id="url-val"> on click for easier copy
        document.getElementById('url-val').addEventListener('click', function(){
            if(document.body.createTextRange) {
                var range = document.body.createTextRange();
                range.moveToElementText(this); range.select();
            } else if(window.getSelection) {
                var selection = window.getSelection(); 
                var range = document.createRange();
                range.selectNodeContents(this);
                selection.removeAllRanges();
                selection.addRange(range);
            }
        });

        // Optional: select input on click for easier copy
        document.querySelectorAll('.inputs-grid input').forEach(function(inp){
            inp.addEventListener('click',function(){ this.select(); });
        });

        // -- Usage time notice only, not dynamic auto shutdown
        // The usage window is always displayed as 09:00 AM to 01:00 PM in the UI.

    </script>
    <!-- Google tag (gtag.js) -->
<script async src="https://www.googletagmanager.com/gtag/js?id=G-MBJM2CCKJ6"></script>
<script>
  window.dataLayer = window.dataLayer || [];
  function gtag(){dataLayer.push(arguments);}
  gtag('js', new Date());

  gtag('config', 'G-MBJM2CCKJ6');
</script>

</body>
</html>
